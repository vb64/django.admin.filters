{% extends "./base_admin_list_filter.html" %}

{% block choices_list %}

{% for choice in choices %}
    <li{% if choice.selected %} class="selected"{% endif %}>
    <a href="{{ choice.query_string|iriencode }}" title="{{ choice.display }}">{{ choice.display }}</a></li>
{% endfor %}

{% endblock %}

{% block after_choices %}

<table>
<tbody>

<tr>
<td></td>
<td>{{ title.date_format }}</td>
</tr>

<tr>
<td>{{ title.start_label }}</td>
<td><input type="text" id="id_{{ title.parameter_start }}" value="{{ title.start_val }}"/></td>
</tr>

<tr>
<td>{{ title.end_label }}</td>
<td><input type="text" id="id_{{ title.parameter_end }}" value="{{ title.end_val }}"/></td>
</tr>

</tbody>
</table>

{% endblock %}

{% block javascript_code %}

<script type="text/javascript">

document.getElementById("btn_{{ title.parameter_name }}").onclick = function() {  
  var urlParams = new URLSearchParams(window.location.search);
  urlParams.set("{{ title.parameter_name }}", "{{ title.option_custom }}");
  urlParams.set("{{ title.parameter_start }}", document.getElementById("id_{{ title.parameter_start }}").value);
  urlParams.set("{{ title.parameter_end }}", document.getElementById("id_{{ title.parameter_end }}").value);
  window.location.replace(window.location.pathname + '?' + urlParams.toString() + window.location.hash);
}

</script>

{% endblock %}
